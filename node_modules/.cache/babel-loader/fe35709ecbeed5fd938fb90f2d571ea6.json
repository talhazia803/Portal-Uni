{"ast":null,"code":"import{applyMiddleware,compose,createStore}from\"redux\";import thunk from\"redux-thunk\";import CryptoJS from\"crypto-js\";import rootReducer from\"./reducers\";var saveToLocalStorage=function saveToLocalStorage(state){console.log(state.authUser);var serializedUid=CryptoJS.AES.encrypt(JSON.stringify(state.authUser),\"my-secret-key\").toString();console.log(serializedUid);localStorage.setItem(\"auth\",serializedUid);};var checkLocalStorage=function checkLocalStorage(){var serializedUid=localStorage.getItem(\"auth\");if(serializedUid===null)return undefined;return{authUser:JSON.parse(CryptoJS.AES.decrypt(serializedUid,\"my-secret-key\").toString(CryptoJS.enc.Utf8))};};var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;var store=createStore(rootReducer,checkLocalStorage(),composeEnhancers(applyMiddleware(thunk)));store.subscribe(function(){return saveToLocalStorage(store.getState());});export default store;","map":{"version":3,"sources":["G:/studentPortal Fyp/src/store/index.js"],"names":["applyMiddleware","compose","createStore","thunk","CryptoJS","rootReducer","saveToLocalStorage","state","console","log","authUser","serializedUid","AES","encrypt","JSON","stringify","toString","localStorage","setItem","checkLocalStorage","getItem","undefined","parse","decrypt","enc","Utf8","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","subscribe","getState"],"mappings":"AAAA,OAASA,eAAT,CAA0BC,OAA1B,CAAmCC,WAAnC,KAAsD,OAAtD,CAEA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,YAAxB,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CACpCC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB,EACA,GAAMC,CAAAA,aAAa,CAAGP,QAAQ,CAACQ,GAAT,CAAaC,OAAb,CACpBC,IAAI,CAACC,SAAL,CAAeR,KAAK,CAACG,QAArB,CADoB,CAEpB,eAFoB,EAGpBM,QAHoB,EAAtB,CAIAR,OAAO,CAACC,GAAR,CAAYE,aAAZ,EACAM,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BP,aAA7B,EACD,CARD,CAUA,GAAMQ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9B,GAAMR,CAAAA,aAAa,CAAGM,YAAY,CAACG,OAAb,CAAqB,MAArB,CAAtB,CACA,GAAIT,aAAa,GAAK,IAAtB,CAA4B,MAAOU,CAAAA,SAAP,CAC5B,MAAO,CACLX,QAAQ,CAAEI,IAAI,CAACQ,KAAL,CACRlB,QAAQ,CAACQ,GAAT,CAAaW,OAAb,CAAqBZ,aAArB,CAAoC,eAApC,EAAqDK,QAArD,CACEZ,QAAQ,CAACoB,GAAT,CAAaC,IADf,CADQ,CADL,CAAP,CAOD,CAVD,CAYA,GAAMC,CAAAA,gBAAgB,CAAGC,MAAM,CAACC,oCAAP,EAA+C3B,OAAxE,CACA,GAAI4B,CAAAA,KAAK,CAAG3B,WAAW,CACrBG,WADqB,CAErBc,iBAAiB,EAFI,CAGrBO,gBAAgB,CAAC1B,eAAe,CAACG,KAAD,CAAhB,CAHK,CAAvB,CAMA0B,KAAK,CAACC,SAAN,CAAgB,iBAAMxB,CAAAA,kBAAkB,CAACuB,KAAK,CAACE,QAAN,EAAD,CAAxB,EAAhB,EACA,cAAeF,CAAAA,KAAf","sourcesContent":["import { applyMiddleware, compose, createStore } from \"redux\";\r\n\r\nimport thunk from \"redux-thunk\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst saveToLocalStorage = (state) => {\r\n  console.log(state.authUser);\r\n  const serializedUid = CryptoJS.AES.encrypt(\r\n    JSON.stringify(state.authUser),\r\n    \"my-secret-key\"\r\n  ).toString();\r\n  console.log(serializedUid);\r\n  localStorage.setItem(\"auth\", serializedUid);\r\n};\r\n\r\nconst checkLocalStorage = () => {\r\n  const serializedUid = localStorage.getItem(\"auth\");\r\n  if (serializedUid === null) return undefined;\r\n  return {\r\n    authUser: JSON.parse(\r\n      CryptoJS.AES.decrypt(serializedUid, \"my-secret-key\").toString(\r\n        CryptoJS.enc.Utf8\r\n      )\r\n    ),\r\n  };\r\n};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(\r\n  rootReducer,\r\n  checkLocalStorage(),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}