{"ast":null,"code":"import { applyMiddleware, compose, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport CryptoJS from \"crypto-js\";\nimport rootReducer from \"./reducers\";\n\nvar saveToLocalStorage = function saveToLocalStorage(state) {\n  console.log(state.authUser);\n  var serializedUid = CryptoJS.AES.encrypt(JSON.stringify(state.authUser), \"my-secret-key\").toString();\n  console.log(serializedUid);\n  localStorage.setItem(\"auth\", serializedUid);\n};\n\nvar checkLocalStorage = function checkLocalStorage() {\n  var serializedUid = localStorage.getItem(\"auth\");\n  if (serializedUid === null) return undefined;\n  return {\n    authUser: JSON.parse(CryptoJS.AES.decrypt(serializedUid, \"my-secret-key\").toString(CryptoJS.enc.Utf8))\n  };\n};\n\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nvar store = createStore(rootReducer, checkLocalStorage(), composeEnhancers(applyMiddleware(thunk)));\nstore.subscribe(function () {\n  return saveToLocalStorage(store.getState());\n});\nexport default store;","map":{"version":3,"sources":["G:/studentPortal Fyp/src/store/index.js"],"names":["applyMiddleware","compose","createStore","thunk","CryptoJS","rootReducer","saveToLocalStorage","state","console","log","authUser","serializedUid","AES","encrypt","JSON","stringify","toString","localStorage","setItem","checkLocalStorage","getItem","undefined","parse","decrypt","enc","Utf8","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","subscribe","getState"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,OAA1B,EAAmCC,WAAnC,QAAsD,OAAtD;AAEA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,WAAP,MAAwB,YAAxB;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACA,MAAMC,aAAa,GAAGP,QAAQ,CAACQ,GAAT,CAAaC,OAAb,CACpBC,IAAI,CAACC,SAAL,CAAeR,KAAK,CAACG,QAArB,CADoB,EAEpB,eAFoB,EAGpBM,QAHoB,EAAtB;AAIAR,EAAAA,OAAO,CAACC,GAAR,CAAYE,aAAZ;AACAM,EAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BP,aAA7B;AACD,CARD;;AAUA,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9B,MAAMR,aAAa,GAAGM,YAAY,CAACG,OAAb,CAAqB,MAArB,CAAtB;AACA,MAAIT,aAAa,KAAK,IAAtB,EAA4B,OAAOU,SAAP;AAC5B,SAAO;AACLX,IAAAA,QAAQ,EAAEI,IAAI,CAACQ,KAAL,CACRlB,QAAQ,CAACQ,GAAT,CAAaW,OAAb,CAAqBZ,aAArB,EAAoC,eAApC,EAAqDK,QAArD,CACEZ,QAAQ,CAACoB,GAAT,CAAaC,IADf,CADQ;AADL,GAAP;AAOD,CAVD;;AAYA,IAAMC,gBAAgB,GAAGC,MAAM,CAACC,oCAAP,IAA+C3B,OAAxE;AACA,IAAI4B,KAAK,GAAG3B,WAAW,CACrBG,WADqB,EAErBc,iBAAiB,EAFI,EAGrBO,gBAAgB,CAAC1B,eAAe,CAACG,KAAD,CAAhB,CAHK,CAAvB;AAMA0B,KAAK,CAACC,SAAN,CAAgB;AAAA,SAAMxB,kBAAkB,CAACuB,KAAK,CAACE,QAAN,EAAD,CAAxB;AAAA,CAAhB;AACA,eAAeF,KAAf","sourcesContent":["import { applyMiddleware, compose, createStore } from \"redux\";\r\n\r\nimport thunk from \"redux-thunk\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst saveToLocalStorage = (state) => {\r\n  console.log(state.authUser);\r\n  const serializedUid = CryptoJS.AES.encrypt(\r\n    JSON.stringify(state.authUser),\r\n    \"my-secret-key\"\r\n  ).toString();\r\n  console.log(serializedUid);\r\n  localStorage.setItem(\"auth\", serializedUid);\r\n};\r\n\r\nconst checkLocalStorage = () => {\r\n  const serializedUid = localStorage.getItem(\"auth\");\r\n  if (serializedUid === null) return undefined;\r\n  return {\r\n    authUser: JSON.parse(\r\n      CryptoJS.AES.decrypt(serializedUid, \"my-secret-key\").toString(\r\n        CryptoJS.enc.Utf8\r\n      )\r\n    ),\r\n  };\r\n};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(\r\n  rootReducer,\r\n  checkLocalStorage(),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}